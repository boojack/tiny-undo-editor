import{d as l,o as _,a as f,c as d,b as s,t as p,n as h,e as u,r as b,f as A,T as $,g as C,F as v,h as k,i as m,j as E}from"./vendor.17fd299f.js";const I=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=t(n);fetch(n.href,r)}};I();var y=(e,o)=>{for(const[t,i]of o)e[t]=i;return e};const L=l({name:"ActionContainer",props:{action:{required:!0,type:Object},isActive:Boolean},setup(){return _(()=>{}),f(()=>{}),{}}}),B={class:"value-text"},O={class:"date-text"};function R(e,o,t,i,n,r){return u(),d("div",{class:h([e.isActive?"active":"","action-container"])},[s("p",B,p(e.action.value),1),s("span",O,p(new Date(e.action.timestamp).toLocaleString()),1)],2)}var T=y(L,[["render",R],["__scopeId","data-v-4fe724ba"]]);const w=l({name:"TinyEditor",components:{ActionContainer:T},setup(){const e=b({actions:[],currentIndex:0}),o=A(null);let t=null;return _(()=>{o.value&&(t=new $(o.value),t.subscribe((r,a)=>{console.log(r,a),e.actions=[...r],e.currentIndex=a}),e.actions=t.getActions())}),f(()=>{t==null||t.destroy()}),{state:e,editorEl:o,runUndo:()=>{t==null||t.runUndo()},runRedo:()=>{t==null||t.runRedo()}}}}),x={class:"editor-container"},N={class:"toolbar-container"},j={class:"tip-text"},F={ref:"editorEl"},S={class:"actions-wrapper"};function q(e,o,t,i,n,r){const a=C("ActionContainer");return u(),d(v,null,[s("div",x,[s("div",N,[s("span",{class:"btn undo-btn",onClick:o[0]||(o[0]=(...c)=>e.runUndo&&e.runUndo(...c))},"undo"),s("span",{class:"btn redo-btn",onClick:o[1]||(o[1]=(...c)=>e.runRedo&&e.runRedo(...c))},"redo"),s("span",j,p(e.state.currentIndex),1)]),s("textarea",F,null,512)]),s("div",S,[(u(!0),d(v,null,k(e.state.actions,(c,g)=>(u(),m(a,{action:c,isActive:e.state.currentIndex===g,key:c.timestamp},null,8,["action","isActive"]))),128))])],64)}var D=y(w,[["render",q],["__scopeId","data-v-95eda08c"]]);const M=l({setup(e){return(o,t)=>(u(),m(D))}});E(M).mount("#app");
